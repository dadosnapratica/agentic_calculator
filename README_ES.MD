# ğŸ§® Agentic Calculator

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![Ollama](https://img.shields.io/badge/LLM-Ollama-00A67E?logo=ollama)](https://ollama.ai/)
[![Mistral](https://img.shields.io/badge/Model-Mistral%207B-orange)](https://mistral.ai/)
[![Streamlit](https://img.shields.io/badge/UI-Streamlit-FF4B4B?logo=streamlit)](https://streamlit.io/)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](CONTRIBUTING.md)

> **Demostrando una arquitectura multiagente con LLM 100% local.**  
> Construido para desarrolladores y arquitectos que aprenden a diseÃ±ar sistemas autÃ³nomos de IA.

---

> ğŸ‡§ğŸ‡· [VersÃ£o Original em PortuguÃªs (Brasil)](README_BR.md)  
> **Aviso:** Esta es la versiÃ³n original de la documentaciÃ³n tÃ©cnica. Para mÃ¡xima precisiÃ³n conceptual y tÃ©cnica, utilice preferentemente esta versiÃ³n.

> ğŸ‡ºğŸ‡¸ [English Version](README.md)  
> **Disclaimer:** Esta documentaciÃ³n tambiÃ©n estÃ¡ disponible en inglÃ©s. Para referencia tÃ©cnica oficial, consulte las versiones en portuguÃ©s o inglÃ©s.

> ğŸ‡ªğŸ‡¸ [DocumentaciÃ³n en EspaÃ±ol](README_ES.md)  
> **Aviso:** La documentaciÃ³n tambiÃ©n estÃ¡ disponible en espaÃ±ol. Para mayor precisiÃ³n tÃ©cnica, consulte la versiÃ³n original en portuguÃ©s o la versiÃ³n en inglÃ©s.

---


## ğŸ¯ Â¿QuÃ© es este proyecto?

Este proyecto no es solo una calculadora: es una implementaciÃ³n de referencia completa de patrones modernos de arquitectura agentic.

PiÃ©nsalo como:
- ğŸ“š Un marco educativo para entender la orquestaciÃ³n de agentes de IA
- ğŸ—ï¸ Una base lista para producciÃ³n para construir sistemas autÃ³nomos complejos
- ğŸ”’ Una alternativa centrada en la privacidad frente a servicios de IA en la nube
- ğŸ’¡ Un modelo para bots de trading, pipelines de automatizaciÃ³n y asistentes inteligentes

### Â¿QuÃ© lo hace "Agentic"?

Los programas tradicionales siguen lÃ³gica fija: if this, then that.

Los sistemas agentic usan IA para:
1. Entender la intenciÃ³n en lenguaje natural
2. Planificar la descomposiciÃ³n en pasos
3. Orquestar agentes especializados
4. Ejecutar de forma segura con validaciÃ³n
5. Aprender del feedback (mejora futura)

```
User: "Calculate the average of 10, 20, 30 and then square it"

Traditional Code:          Agentic System:
âŒ Needs explicit         âœ… LLM understands intent
  function for this      âœ… Plans: [mean() â†’ square()]
âŒ Breaks on variations   âœ… Adapts to natural language
âŒ No reasoning           âœ… Generates execution plan
```

---

## âœ¨ CaracterÃ­sticas principales

### ğŸ§  ComprensiÃ³n de Lenguaje Natural
```bash
Input:  "Add 15 and 25, then multiply by 2"
Output: 80.0

# DetrÃ¡s de escena:
# LLM convierte â†’ [add(15,25), multiply($result_0, 2)]
```

### ğŸ¯ OrquestaciÃ³n Multi-Agente
```python
# Especialistas manejan dominios especÃ­ficos
BasicOperations     â†’ +, -, Ã—, Ã·
AdvancedOperations  â†’ âˆš, ^, log
StatisticsOps       â†’ mean, median, Ïƒ
```

### ğŸ”’ EjecuciÃ³n en Sandbox Segura
```yaml
# Seguridad basada en whitelist
allowed_operations:
  - add
  - multiply
  # âŒ system_call - BLOQUEADO
  # âŒ file_delete - BLOQUEADO
```

### ğŸ“Š Interfaz Moderna con Streamlit
- **Interfaz web**: bonita, responsiva, en tiempo real
- **Modo CLI**: para automatizaciÃ³n y scripting
- **Listo para API**: extiende a endpoints REST

---

## ğŸ—ï¸ VisiÃ³n General de la Arquitectura

### Flujo de alto nivel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Input (Natural Language)               â”‚
â”‚ "Calculate mean of 10,20,30 and square it"  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Orchestrator (Brain)                â”‚
â”‚ â€¢ Recibe entrada                            â”‚
â”‚ â€¢ Llama al LLM para generar el plan         â”‚
â”‚ â€¢ Valida seguridad                          â”‚
â”‚ â€¢ Delegar a especialistas                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â–¼          â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Basic  â”‚ â”‚Advancedâ”‚ â”‚ Stats  â”‚
â”‚  Ops   â”‚ â”‚  Ops   â”‚ â”‚  Ops   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ LLM (Local) â”‚
      â”‚   Mistral   â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Â¿Por quÃ© esta arquitectura?

| PatrÃ³n | Beneficio | Ejemplo |
|--------|----------|---------|
| **SeparaciÃ³n de responsabilidades** | Cada componente tiene un Ãºnico trabajo | El orquestador coordina, los especialistas ejecutan |
| **Principio Open/Closed** | Extiende sin modificar el nÃºcleo | AÃ±adir un nuevo especialista = 5 lÃ­neas de cÃ³digo |
| **InyecciÃ³n de dependencias** | Testeable y flexible | Mock del LLM para pruebas unitarias |
| **DiseÃ±o a prueba de fallos** | Manejo de errores elegante | Â¿OperaciÃ³n invÃ¡lida? El sistema registra y continÃºa |

**ğŸ“– Para mÃ¡s detalles, ver [ARCHITECTURE.md](ARCHITECTURE.md)**

---

## ğŸš€ Inicio RÃ¡pido (5 Minutos)

### Requisitos

- **Python 3.9+**
- **8GB RAM** (16GB recomendado)
- **5GB de disco** (para el modelo LLM)

### InstalaciÃ³n

#### 1. Instalar Ollama (Servidor LLM)

```bash
# macOS / Linux
curl -fsSL https://ollama.ai/install.sh | sh

# Windows
# Descargar desde https://ollama.ai/download
```

#### 2. Descargar el Modelo

```bash
ollama pull mistral:7b-instruct
```

#### 3. Clonar y Configurar

```bash
# Clonar repositorio
git clone https://github.com/yourusername/agentic-calculator.git
cd agentic-calculator

# Crear entorno virtual
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# Instalar dependencias
pip install -r requirements.txt
```

#### 4. Â¡Ejecutar!

```bash
# Terminal 1: Iniciar Ollama (si no se inicia automÃ¡ticamente)
ollama serve

# Terminal 2: Ejecutar la calculadora
python main.py

# O usar la UI de Streamlit
streamlit run app.py
```

---

## ğŸ’¡ Ejemplos de Uso

### Modo CLI

```bash
$ python main.py

ğŸ¤– Calculadora Agentic
============================================================

ğŸ§® Usted: Add 100 and 50
ğŸ¤– Agente: 150.0

ğŸ§® Usted: Calculate average of 5, 10, 15 and take square root
ğŸ¤– Agente: 3.162

ğŸ§® Usted: salir
ğŸ‘‹ Â¡Hasta luego!
```

### Uso ProgramÃ¡tico

```python
from core.orchestrator import CalculatorOrchestrator

orchestrator = CalculatorOrchestrator()

result = orchestrator.execute("Add 5 and 3, then multiply by 2")

print(result['final_result'])  # 16.0
print(result['steps_executed'])  # 2
print(result['intermediate_results'])  # [8.0, 16.0]
```

### Multi-Paso Complejo

```python
# Entrada
"Calculate mean of 100, 200, 300, then take square root, then divide by 2"

# El LLM genera el plan:
{
  "steps": [
   {"operation": "mean", "args": [100, 200, 300]},      # â†’ 200
   {"operation": "sqrt", "args": ["$result_0"]},        # â†’ 14.14
   {"operation": "divide", "args": ["$result_1", 2]}    # â†’ 7.07
  ]
}

# Resultado final: 7.07
```

---

## ğŸ“ Para Principiantes en Arquitectura Agentic

### QuÃ© aprenderÃ¡s

1. **OrquestaciÃ³n con LLMs**: CÃ³mo usar LLMs como "cerebros" para planificar tareas
2. **Patrones de diseÃ±o de agentes**: Strategy, Factory, Observer aplicados a IA
3. **IngenierÃ­a de prompts**: Crear prompts que generen salidas estructuradas
4. **EjecuciÃ³n segura**: Sandboxing y validaciÃ³n en sistemas autÃ³nomos
5. **Arquitectura modular**: Construir sistemas de IA extensibles

### Ruta de aprendizaje

```
1. Ejecutar los ejemplos â†’ Entender el flujo
2. Leer ARCHITECTURE.md â†’ Comprender el diseÃ±o
3. AÃ±adir un nuevo especialista â†’ Practicar la extensiÃ³n
4. Modificar prompts â†’ Experimentar con el comportamiento del LLM
5. Construir tu propio agente â†’ Aplicar al dominio
```

### Conceptos clave explicados

#### ğŸ§  Â¿QuÃ© es un "Orchestrator"?

PiÃ©nsalo como un director de orquesta:
- No toca instrumentos (no realiza cÃ¡lculos)
- Lee la partitura (interpreta la intenciÃ³n del usuario vÃ­a LLM)
- Indica a cada mÃºsico cuÃ¡ndo tocar (delegera a especialistas)
- Asegura la armonÃ­a (valida y consolida resultados)

#### ğŸ¯ Â¿QuÃ© es un "Specialist"?

Un experto de dominio que hace una cosa bien:
```python
# MAL: Objeto dios que lo hace todo
class Calculator:
   def add(self, a, b): ...
   def subtract(self, a, b): ...
   def plot_graph(self, data): ...  # Â¡No relacionado!
   def send_email(self, msg): ...   # Â¡No relacionado!

# BIEN: Especialistas enfocados
class BasicOperations:
   def add(self, a, b): return a + b
   def subtract(self, a, b): return a - b

class VisualizationOps:
   def plot_graph(self, data): ...
```

#### ğŸ”— Â¿QuÃ© es "$result_N"?

Referencia a resultados de pasos previos:
```json
{
  "steps": [
   {"operation": "add", "args": [5, 3]},           // Paso 0 â†’ 8
   {"operation": "multiply", "args": ["$result_0", 2]}  // Usa 8 del paso 0
  ]
}
```

Esto permite encadenar operaciones sin codificar valores intermedios.

---

## ğŸ§ª Pruebas

```bash
# Ejecutar todas las pruebas
pytest tests/

# Con coverage
pytest --cov=core --cov=specialists tests/

# Prueba especÃ­fica
pytest tests/test_orchestrator.py -v
```

---

## ğŸ”§ ConfiguraciÃ³n

### Personalizar operaciones

Editar `config.yaml`:

```yaml
security:
  allowed_operations:
   - "add"
   - "multiply"
   - "sin"        # AÃ±adir trigonometrÃ­a
   - "factorial"  # AÃ±adir combinatoria
```

### AÃ±adir nuevo especialista

```python
# 1. Crear especialista
# specialists/trigonometry.py
import math

class TrigonometryOperations:
   @staticmethod
   def sin(x):
      return math.sin(math.radians(x))

# 2. Registrar en el orquestador
# core/orchestrator.py
from specialists.trigonometry import TrigonometryOperations

self.specialists['sin'] = TrigonometryOperations.sin
```

Â¡Eso es todo! No se requieren cambios en el nÃºcleo. ğŸ‰

---

## ğŸŒŸ Aplicaciones en el Mundo Real

Esta arquitectura escala a sistemas de producciÃ³n:

### ğŸ¤– Trading AlgorÃ­tmico
```python
# Reemplazar especialistas matemÃ¡ticos por especialistas de trading
class TradingOperations:
   def analyze_volatility(symbol): ...
   def execute_order(symbol, quantity): ...
   def calculate_risk(portfolio): ...

# Â¡Mismo orquestador, dominio diferente!
```

### ğŸ“¹ Pipeline de GeneraciÃ³n de Contenido
```python
class ContentOperations:
   def generate_script(topic): ...
   def create_images(script): ...
   def synthesize_voice(script): ...
   def edit_video(assets): ...
```

### ğŸ“Š Flujos de Trabajo de AnÃ¡lisis de Datos
```python
class DataOperations:
   def query_database(sql): ...
   def clean_data(df): ...
   def train_model(df): ...
   def visualize_results(predictions): ...
```

Mismos patrones. Diferentes especialistas. Posibilidades infinitas.

---

## ğŸ“Š Rendimiento

| MÃ©trica | Valor | Notas |
|--------|-------|-------|
| **Latencia promedio** | 1-2s | OperaciÃ³n simple |
| **Multi-Paso (3 ops)** | 2-3s | Incluye planificaciÃ³n LLM |
| **Uso de memoria** | ~500MB | Con modelo 7B cargado |
| **Tasa de Ã©xito** | 98%+ | En operaciones vÃ¡lidas |

### Consejos de optimizaciÃ³n

- Usar modelo **7B** para velocidad (por defecto)
- Usar modelo **13B** para mejor razonamiento (mÃ¡s lento)
- Habilitar **GPU** para inferencia 3-5x mÃ¡s rÃ¡pida
- AÃ±adir **cache en Redis** para consultas repetidas

---

## ğŸ—ºï¸ Hoja de Ruta

### âœ… v1.0 (Actual)
- [x] OrquestaciÃ³n central
- [x] Operaciones matemÃ¡ticas bÃ¡sicas
- [x] UI en Streamlit
- [x] Sandbox de seguridad
- [x] DocumentaciÃ³n completa

### ğŸš§ v1.1 (Siguientes)
- [ ] API REST
- [ ] Soporte de variables (`x = 10`)
- [ ] Historial de operaciones
- [ ] MÃ¡s especialistas (trig, stats)
- [ ] Despliegue con Docker

### ğŸ”® v2.0 (Futuro)
- [ ] Soporte Multi-LLM
- [ ] VisualizaciÃ³n del grafo de ejecuciÃ³n
- [ ] Memoria conversacional
- [ ] Sistema de plugins

---

## ğŸ¤ Contribuciones

Â¡Se aceptan contribuciones! Ver [CONTRIBUTING.md](CONTRIBUTING.md) para guÃ­as.

Buenas primeras issues:
- AÃ±adir operaciones trigonomÃ©tricas
- Mejorar mensajes de error
- AÃ±adir mÃ¡s casos de prueba
- Traducir la UI a otros idiomas
- Crear setup con Docker

---

## ğŸ“š DocumentaciÃ³n

- **[ARCHITECTURE.md](ARCHITECTURE.md)** - ProfundizaciÃ³n en decisiones de diseÃ±o
- **[EXAMPLES.md](docs/EXAMPLES.md)** - Casos de uso avanzados

---

## ğŸ› SoluciÃ³n de Problemas

### Problemas comunes

**Problema**: `Connection refused` a Ollama

```bash
# SoluciÃ³n: Iniciar el servidor Ollama
ollama serve
```

**Problema**: El LLM devuelve JSON invÃ¡lido

```yaml
# SoluciÃ³n: Reducir la temperatura en config.yaml
llm:
  temperature: 0.0  # MÃ¡s determinista
```

**Problema**: OperaciÃ³n bloqueada por el sandbox

```yaml
# SoluciÃ³n: AÃ±adir a la whitelist en config.yaml
security:
  allowed_operations:
   - "your_operation"
```

Â¿MÃ¡s problemas? Revisa [Issues](https://github.com/yourusername/agentic-calculator/issues) o abre uno nuevo.

---

## ğŸ“„ Licencia

Este proyecto estÃ¡ licenciado bajo MIT License - ver archivo [LICENSE](LICENSE).

**TL;DR**: Puedes usarlo comercialmente, modificarlo y distribuirloâ€”solo conserva el aviso de copyright.

---

## ğŸ™ Agradecimientos

- **[Ollama](https://ollama.ai/)** - Haciendo accesibles los LLMs locales
- **[Mistral AI](https://mistral.ai/)** - Excelente modelo de pesos abiertos
- **[Streamlit](https://streamlit.io/)** - Desarrollo rÃ¡pido de UI
- **Comunidad Open Source** - Por la inspiraciÃ³n y herramientas

---

## Notas Finales

Este proyecto fue creado como una iniciativa educativa que demuestra cÃ³mo Python puede aplicarse al anÃ¡lisis de datos real y cÃ³mo la Inteligencia Artificial puede mejorar los flujos analÃ­ticos.

ğŸŒŸ Â¡SiÃ©ntete libre de contribuir y mejorar este proyecto!

## Tips 

Esperamos que nuestros servicios te resulten Ãºtiles y agradables. Si quieres mostrar un apoyo extra, Â¿por quÃ© no invitarnos a un cafÃ©?

ğŸµ Tu apoyo no solo nos anima, sino que nos ayuda a seguir mejorando.

Para una pequeÃ±a contribuciÃ³n, puedes enviar USDT o un pago instantÃ¡neo brasileÃ±o (PIX) a nuestro cÃ³digo QR. Â¡Cada cafÃ© cuenta!

### Forma #1 - USDT:

![Coffee QR Code](https://raw.githubusercontent.com/dadosnapratica/buy_a_coffe_qrcodes/refs/heads/main/qr_code_usdt_enus_200px.png)

o enviar USDT a la direcciÃ³n:
```text
0x3db4d1dd10b60c278f27bd1b2e2bd888d0f99f85
```

1. **Escanea el QR:** Abre tu wallet y escanea el QR de USDT.  
2. **Introduce el monto:** El precio de un cafÃ©, alrededor de $3â€“$5.  
3. **EnvÃ­a tu apoyo:** Confirma la transacciÃ³n.

### Forma #2 - Wise transferencia internacional

![Coffee Wise QR Code](https://raw.githubusercontent.com/dadosnapratica/buy_a_coffe_qrcodes/refs/heads/main/wise_qrcode.jpeg)

O enviar pago a la direcciÃ³n

```
https://wise.com/pay/me/flavion156
```

### Forma #3 - PIX (Brasil):

![Coffee QR Code](https://raw.githubusercontent.com/dadosnapratica/buy_a_coffe_qrcodes/refs/heads/main/qr_code_pix_bradesco.png)

1. **Escanea el QR:** Abre la app bancaria y escanea el QR de PIX.  
2. **Introduce el monto:** Aprox. $3â€“$5.  
3. **EnvÃ­a tu apoyo:** Confirma el pago.

PIX es un sistema de pago digital en Brasil para pagos instantÃ¡neos 24/7. Si este proyecto te ayudÃ³, considera comprarme un cafÃ©.

---

## Autor

**Flavio Lopes** Difundiendo conocimiento prÃ¡ctico de datos para la toma de decisiones.

--- 

# ğŸ“¬ Contacto

Â¿Preguntas, sugerencias o mejoras? ContÃ¡ctame o contribuye directamente al repositorio.

- GitHub: https://github.com/orgs/dadosnapratica  
- LinkedIn: https://www.linkedin.com/in/flavionlopes/  
- Email: flavio.lopes@ideiasfactory.tech  
- WhatsApp: https://wa.me/5511996354436  
- Instagram: https://www.instagram.com/dadosnapratica/

---

Gracias nuevamente por tu increÃ­ble apoyo y por formar parte de nuestra comunidad. Tu contribuciÃ³n alimenta nuestra pasiÃ³n y compromiso.  
â­ Sigue aprendiendo. Sigue construyendo. Sigue compartiendo conocimiento. â­

---

## ğŸŒŸ Historial de Stars

Si este proyecto te ayudÃ³, considera darle una â­!

[![Star History Chart](https://api.star-history.com/svg?repos=yourusername/agentic-calculator&type=Date)](https://star-history.com/#yourusername/agentic-calculator&Date)

---

## ğŸ“ˆ EstadÃ­sticas de GitHub

![GitHub stars](https://img.shields.io/github/stars/dadosnapratica/agentic_calculator?style=social)
![GitHub forks](https://img.shields.io/github/forks/dadosnapratica/agentic_calculator?style=social)
![GitHub watchers](https://img.shields.io/github/watchers/dadosnapratica/agentic_calculator?style=social)

---

<div align="center">

**Construido con â¤ï¸ para la comunidad de IA**

[â­ Star](https://github.com/dadosnapratica/agentic_calculator) â€¢
[ğŸ´ Fork](https://github.com/dadosnapratica/agentic_calculator/fork) â€¢
[ğŸ› Reportar Bug](https://github.com/dadosnapratica/agentic_calculator/issues)


Hecho por [Flavio Lopes](https://github.com/fnldesign) | 2026

</div>
